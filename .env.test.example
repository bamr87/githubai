# TEST Environment Configuration
# Copy this file to .env.test and customize for your test environment
# This file is automatically loaded by settings_test.py

# ==============================================================================
# Database Configuration (TEST)
# ==============================================================================
DATABASE_URL=postgresql://githubai_test:test123@db:5432/githubai_test

# ==============================================================================
# Django Settings (TEST)
# ==============================================================================
DEBUG=True
SECRET_KEY=test-secret-key-do-not-use-in-production
DJANGO_SETTINGS_MODULE=githubai.settings_test

# ==============================================================================
# GitHub API (TEST)
# ==============================================================================
# Use a test token with minimal permissions or mock mode
GITHUB_TOKEN=ghp_test_token_replace_with_real_or_mock

# ==============================================================================
# AI Provider Configuration (TEST)
# ==============================================================================
# Use 'mock' for deterministic canned responses without API costs
AI_PROVIDER=mock

# Mock AI Provider (no real API calls)
MOCK_API_KEY=mock-test-key-2025-11-25
MOCK_MODEL=mock-gpt-4
MOCK_BASE_URL=http://localhost:8001/mock-ai

# ==============================================================================
# Real AI Providers (Optional - for integration testing)
# ==============================================================================
# Uncomment and set real keys only if you want to test actual AI integration

# OpenAI Configuration
# AI_PROVIDER=openai
# OPENAI_API_KEY=sk-test-key-here
# OPENAI_MODEL=gpt-4o-mini
# OPENAI_BASE_URL=https://api.openai.com/v1

# XAI Configuration
# AI_PROVIDER=xai
# XAI_API_KEY=xai-test-key-here
# XAI_MODEL=grok-beta
# XAI_BASE_URL=https://api.x.ai/v1

# Anthropic Configuration
# AI_PROVIDER=anthropic
# ANTHROPIC_API_KEY=sk-ant-test-key-here
# ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
# ANTHROPIC_BASE_URL=https://api.anthropic.com

# ==============================================================================
# Redis Configuration (TEST)
# ==============================================================================
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/1
# Use Redis DB 1 for test environment (DB 0 is for dev/prod)

# ==============================================================================
# Celery Configuration (TEST)
# ==============================================================================
# Run tasks synchronously in test mode for easier debugging
CELERY_TASK_ALWAYS_EAGER=True
CELERY_TASK_EAGER_PROPAGATES=True

# ==============================================================================
# Test Environment Flags
# ==============================================================================
TEST_ENV=true
ENABLE_QUERY_LOGGING=true

# ==============================================================================
# Optional: Test Data Generation
# ==============================================================================
# Control how much test data is generated
TEST_DATA_PROVIDERS=2
TEST_DATA_MODELS=4
TEST_DATA_TEMPLATES=10
TEST_DATA_ISSUES=20

# ==============================================================================
# Optional: Mock AI Response Configuration
# ==============================================================================
# Path to canned AI responses fixture (dated format: YYYY-MM-DD)
MOCK_AI_RESPONSES_FIXTURE=apps/core/fixtures/test_ai_responses_2025-11-25.json
